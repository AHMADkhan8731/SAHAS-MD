function _0x5b8b(){const _0x594630=['\x0a\x0a*Published\x20On\x20:*\x20','date','stopnews','interval','forEach','axios','2908332rNsiyv','keys','user','380ezTWzx','249uKHGef','some','This\x20command\x20can\x20only\x20be\x20used\x20in\x20groups.','error','owner','285qejtrR','results','push','Failed\x20to\x20activate\x20the\x20news\x20service.','🚫\x20This\x20command\x20can\x20only\x20be\x20used\x20by\x20group\x20admins\x20or\x20the\x20bot\x20owner.','@sl-code-lords/esana-news','Disable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','3902ttPwHT','21876iYAsQW','news','getLatestNews','sender','450mEnKmM','../config','publishedAt','📰\x2024/7\x20News\x20Activated.','title','📰\x20*','message','3996640QTyXOr','includes','BreakingNews','sendMessage','description','1417284SpfLzk','admin','87102RMrGQR','Error\x20fetching\x20Hiru\x20News:\x20','Error\x20in\x20news\x20command:\x20','42985RPxTgF','Enable\x20Sri\x20Lankan\x20news\x20updates\x20in\x20this\x20group','length','content'];_0x5b8b=function(){return _0x594630;};return _0x5b8b();}const _0x4f831e=_0x3d16;(function(_0x23fad5,_0x30cb33){const _0x4568e2=_0x3d16,_0x175744=_0x23fad5();while(!![]){try{const _0x41c04f=-parseInt(_0x4568e2(0x1be))/0x1*(-parseInt(_0x4568e2(0x1c5))/0x2)+-parseInt(_0x4568e2(0x1e9))/0x3*(parseInt(_0x4568e2(0x1c6))/0x4)+parseInt(_0x4568e2(0x1db))/0x5*(parseInt(_0x4568e2(0x1ca))/0x6)+-parseInt(_0x4568e2(0x1e5))/0x7+-parseInt(_0x4568e2(0x1d1))/0x8+-parseInt(_0x4568e2(0x1d8))/0x9*(-parseInt(_0x4568e2(0x1e8))/0xa)+parseInt(_0x4568e2(0x1d6))/0xb;if(_0x41c04f===_0x30cb33)break;else _0x175744['push'](_0x175744['shift']());}catch(_0x39b8da){_0x175744['push'](_0x175744['shift']());}}}(_0x5b8b,0x502f3));function _0x3d16(_0x309728,_0x1deb19){const _0x5b8ba4=_0x5b8b();return _0x3d16=function(_0x3d167b,_0x102dae){_0x3d167b=_0x3d167b-0x1be;let _0x58e97d=_0x5b8ba4[_0x3d167b];return _0x58e97d;},_0x3d16(_0x309728,_0x1deb19);}const {cmd}=require('../command'),Hiru=require('hirunews-scrap'),Esana=require(_0x4f831e(0x1c3)),axios=require(_0x4f831e(0x1e4)),config=require(_0x4f831e(0x1cb));let activeGroups={},lastNewsTitles={};async function getLatestNews(){const _0x3134a3=_0x4f831e;let _0x148859=[];try{const _0x5307fc=new Hiru(),_0x815bec=await _0x5307fc[_0x3134a3(0x1d3)]();_0x148859['push']({'title':_0x815bec[_0x3134a3(0x1bf)][_0x3134a3(0x1ce)],'content':_0x815bec['results'][_0x3134a3(0x1c7)],'date':_0x815bec[_0x3134a3(0x1bf)][_0x3134a3(0x1e0)]});}catch(_0x409a01){console[_0x3134a3(0x1ec)](_0x3134a3(0x1d9)+_0x409a01['message']);}try{const _0x5bfc3e=new Esana(),_0x110449=await _0x5bfc3e[_0x3134a3(0x1c8)]();_0x110449&&_0x110449[_0x3134a3(0x1ce)]&&_0x110449['description']&&_0x110449[_0x3134a3(0x1cc)]?_0x148859[_0x3134a3(0x1c0)]({'title':_0x110449[_0x3134a3(0x1ce)],'content':_0x110449[_0x3134a3(0x1d5)],'date':_0x110449[_0x3134a3(0x1cc)]}):console[_0x3134a3(0x1ec)]('Error:\x20Esana\x20News\x20returned\x20invalid\x20data.');}catch(_0x4ef124){console['error']('Error\x20fetching\x20Esana\x20News:\x20'+_0x4ef124[_0x3134a3(0x1d0)]);}return _0x148859;}async function checkAndPostNews(_0x5d97ff,_0x4030be){const _0x5519b4=_0x4f831e,_0x3618a1=await getLatestNews();_0x3618a1[_0x5519b4(0x1e3)](async _0x39ac11=>{const _0xa7c439=_0x5519b4;!lastNewsTitles[_0x4030be]&&(lastNewsTitles[_0x4030be]=[]),!lastNewsTitles[_0x4030be][_0xa7c439(0x1d2)](_0x39ac11[_0xa7c439(0x1ce)])&&(await _0x5d97ff[_0xa7c439(0x1d4)](_0x4030be,{'text':_0xa7c439(0x1cf)+_0x39ac11[_0xa7c439(0x1ce)]+'*\x0a'+_0x39ac11[_0xa7c439(0x1de)]+_0xa7c439(0x1df)+_0x39ac11['date']+'\x0a\x0a>\x20*©ᴘᴏᴡᴇʀᴇᴅ\x20ʙʏ\x20ꜱᴀʜᴀꜱ\x20ᴛᴇᴄʜ*'}),lastNewsTitles[_0x4030be][_0xa7c439(0x1c0)](_0x39ac11[_0xa7c439(0x1ce)]),lastNewsTitles[_0x4030be][_0xa7c439(0x1dd)]>0x64&&lastNewsTitles[_0x4030be]['shift']());});}cmd({'pattern':'startnews','desc':_0x4f831e(0x1dc),'isGroup':!![],'category':_0x4f831e(0x1ed),'react':'📰','filename':__filename},async(_0x2c23eb,_0x22b61e,_0x3db5eb,{from:_0x5d7be5,isGroup:_0x386007,participants:_0x1d3d37})=>{const _0x53b43e=_0x4f831e;try{if(_0x386007){const _0x5ca65e=_0x1d3d37[_0x53b43e(0x1ea)](_0x1b205b=>_0x1b205b['id']===_0x22b61e[_0x53b43e(0x1c9)]&&_0x1b205b[_0x53b43e(0x1d7)]),_0x3ae74b=_0x22b61e['sender']===_0x2c23eb[_0x53b43e(0x1e7)]['jid'];_0x5ca65e||_0x3ae74b?!activeGroups[_0x5d7be5]?(activeGroups[_0x5d7be5]=!![],await _0x2c23eb[_0x53b43e(0x1d4)](_0x5d7be5,{'text':_0x53b43e(0x1cd)}),!activeGroups[_0x53b43e(0x1e2)]&&(activeGroups[_0x53b43e(0x1e2)]=setInterval(async()=>{for(const _0x1bab2b in activeGroups){activeGroups[_0x1bab2b]&&_0x1bab2b!=='interval'&&await checkAndPostNews(_0x2c23eb,_0x1bab2b);}},0xea60))):await _0x2c23eb[_0x53b43e(0x1d4)](_0x5d7be5,{'text':'📰\x2024/7\x20News\x20Already\x20Activated.'}):await _0x2c23eb[_0x53b43e(0x1d4)](_0x5d7be5,{'text':'🚫\x20This\x20command\x20can\x20only\x20be\x20used\x20by\x20group\x20admins\x20or\x20the\x20bot\x20owner.'});}else await _0x2c23eb['sendMessage'](_0x5d7be5,{'text':_0x53b43e(0x1eb)});}catch(_0x1652f9){console[_0x53b43e(0x1ec)]('Error\x20in\x20news\x20command:\x20'+_0x1652f9[_0x53b43e(0x1d0)]),await _0x2c23eb[_0x53b43e(0x1d4)](_0x5d7be5,{'text':_0x53b43e(0x1c1)});}}),cmd({'pattern':_0x4f831e(0x1e1),'desc':_0x4f831e(0x1c4),'isGroup':!![],'category':'owner','react':'🛑','filename':__filename},async(_0x1607aa,_0x26981d,_0x49b145,{from:_0x45f4a3,isGroup:_0x24347c,participants:_0x23d9a3})=>{const _0xbe6927=_0x4f831e;try{if(_0x24347c){const _0x1155bb=_0x23d9a3['some'](_0xffae68=>_0xffae68['id']===_0x26981d['sender']&&_0xffae68[_0xbe6927(0x1d7)]),_0x3a639a=_0x26981d['sender']===_0x1607aa[_0xbe6927(0x1e7)]['jid'];_0x1155bb||_0x3a639a?activeGroups[_0x45f4a3]?(delete activeGroups[_0x45f4a3],await _0x1607aa[_0xbe6927(0x1d4)](_0x45f4a3,{'text':'🛑\x2024/7\x20News\x20Deactivated.'}),Object[_0xbe6927(0x1e6)](activeGroups)[_0xbe6927(0x1dd)]===0x1&&activeGroups['interval']&&(clearInterval(activeGroups['interval']),delete activeGroups[_0xbe6927(0x1e2)])):await _0x1607aa[_0xbe6927(0x1d4)](_0x45f4a3,{'text':'🛑\x2024/7\x20News\x20is\x20not\x20active\x20in\x20this\x20group.'}):await _0x1607aa[_0xbe6927(0x1d4)](_0x45f4a3,{'text':_0xbe6927(0x1c2)});}else await _0x1607aa[_0xbe6927(0x1d4)](_0x45f4a3,{'text':_0xbe6927(0x1eb)});}catch(_0xe8493b){console[_0xbe6927(0x1ec)](_0xbe6927(0x1da)+_0xe8493b[_0xbe6927(0x1d0)]),await _0x1607aa['sendMessage'](_0x45f4a3,{'text':'Failed\x20to\x20deactivate\x20the\x20news\x20service.'});}});
